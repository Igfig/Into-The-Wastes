likelyDesertBiomes = forBiomesOfTypes("SANDY", "OCEAN", "WASTELAND", "DEAD", "DRY", "RIVER")
likelyNonDesertBiomes = forBiomesOfTypes("COLD", "CONIFEROUS", "JUNGLE", "LUSH", "NETHER", "END", "MUSHROOM", "FOREST", "SNOWY", "VOID") # not plains, there are DEAD PLAINS that fit in the desert. Ditto savanna, swamp, wet.
desertBiomes = subtractFrom(likelyDesertBiomes, likelyNonDesertBiomes)
nonDesertBiomes = forAllBiomesExcept(desertBiomes)

treeDesertBiomes = forBiomes("minecraft:river", "environs:stone_flats")

desertBiomes.removeDecoration("LAKE_WATER")
desertBiomes.removeFeature("LAKE")
desertBiomes.registerGenBlockRep("minecraft:water", "biomesoplenty:sand")

coarseDirt = forBlock("minecraft:dirt")
coarseDirt.setProperty("variant", "coarse_dirt")
treeDesertBiomes.set("topBlock", coarseDirt)
treeDesertBiomes.removeDecoration("TREE") # should disable bamboo, though not entirely happy that it gets rid of trees too

desertBiomes.set("isSpawnBiome", true)
nonDesertBiomes.set("isSpawnBiome", false)

desertBiomes.set("enableRain", false)
nonDesertBiomes.set("enableRain", true)