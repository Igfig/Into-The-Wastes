desertBiomes = forBiomesOfTypes("DESERT")
nonDesertBiomes = forBiomesOfTypes("OASIS")

desertBiomes.removeDecoration("LAKE_WATER")
desertBiomes.removeFeature("LAKE")
desertBiomes.registerGenBlockRep("minecraft:water", "biomesoplenty:sand")
desertBiomes.registerGenBlockRep("minecraft:flowing_water", "biomesoplenty:sand")
desertBiomes.registerGenBlockRep("minecraft:ice", "biomesoplenty:sand")

desertBiomes.set("isSpawnBiome", true)
nonDesertBiomes.set("isSpawnBiome", false)

desertBiomes.set("enableRain", false)
nonDesertBiomes.set("enableRain", true)

# these probably aren't necessary because COFH World is handling oregen, but just in case
desertBiomes.removeOre("DIAMOND")
desertBiomes.removeOre("GOLD")
desertBiomes.removeOre("IRON")
desertBiomes.removeOre("LAPIS")
desertBiomes.removeOre("REDSTONE")
desertBiomes.removeOre("EMERALD")
desertBiomes.removeOre("CUSTOM")


# remove grass blocks and most trees from rivers and similar biomes, and change the colour of what's left
rawRiverBiomes = forBiomesOfTypes("RIVER")
riverBiomes = intersectionOf(rawRiverBiomes, desertBiomes)
coarseDirt = forBlock("minecraft:dirt")
coarseDirt.setProperty("variant", "coarse_dirt")
riverBiomes.set("topBlock", coarseDirt)

treeDesertBiomes = forBiomes(riverBiomes, "environs:stone_flats")
treeDesertBiomes.removeDecoration("TREE") # should disable bamboo, though not entirely happy that it gets rid of trees too... also it doesn't seem to work?

treeDesertBiomes.set("temperature", 1.5)
treeDesertBiomes.set("humidity", 0.0)


# keep snow out of non-SNOWY areas
snowyBiomes = forBiomesOfTypes("SNOWY")
nonSnowyBiomes = forAllBiomesExcept(snowyBiomes)
nonSnowyBiomes.set("enableSnow", false)
nonSnowyBiomes.set("genInitialSnow", false) # this doesn't seem to work right either. BiomeTweaker doesn't even recognize the property name.


# no trees in tundras
tundra = forBiomes("wildnature:tundra")
tundra.removeDecoration("TREE")


# also no trees in dead desert biomes, like Barelands
deadBiomes = forBiomesOfTypes("DEAD")
deadDesertBiomes = intersectionOf(desertBiomes, deadBiomes)
deadDesertBiomes.removeDecoration("TREE")



# if any trees did get generated in rivers, replace them with charred wood
treeDesertBiomes.registerGenBlockRep("minecraft:log", "mysticalworld:charred_log")
treeDesertBiomes.registerGenBlockRep("minecraft:log2", "mysticalworld:charred_log")


# no bright green zoesteria bushes in dead biomes
deadBiomes.registerGenBlockRep("valoegheses_be:bush_small", "minecraft:deadbush")


# now we remove decorations

Tweaker.setPlacementStage("POST_DECORATE")

# second pass of replacing water, to catch decoration-stage water additions (notably, in quagmires and desert wells)
desertBiomes.registerGenBlockRep("minecraft:water", "biomesoplenty:poison")
desertBiomes.registerGenBlockRep("minecraft:flowing_water", "biomesoplenty:poison")


# NOTHING BELOW THIS WORKS
